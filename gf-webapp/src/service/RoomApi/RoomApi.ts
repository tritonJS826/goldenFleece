import {Currency} from "src/model/Currency";
import {Price} from "src/model/Price";
import {roomApi, roomsApi} from "src/service/ApiInitialization";
import {Room} from "src/autogenerated/gf-server-api/models/Room";

type RoomDTO = Room;

export class RoomApiService {

  public static async getAllRooms() {
    const roomsRaw: RoomDTO[] = await roomsApi.apiRoomsGet();

    const rooms: Room[] = roomsRaw.map(room => ({
      ...room,
      price: room.price,
      images: room.images,
      promoImgUrl: room.promoImgUrl,
    }));


    return rooms;
  }

  public static async getRoomById(roomId: string) {
    const roomDTO: RoomDTO = await roomApi.apiRoomsRoomIdGet();

    const room: Room = {
      ...roomDTO,
      price: roomDTO.price,
      images: roomDTO.images,
      promoImgUrl: roomDTO.promoImgUrl,
    };

    return room;
  }

}